<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title></title>
    <!--[if IE]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <style type="text/css" media="screen">
        body {
            font: 14px Helvetica, Verdana, Arial;
        }
        .almanac, .almanac span { border: 1px solid #ccc; }
        .almanac {
            width: 14em;
            margin: 1em 0;
            border-bottom: 0; border-left: 0;
            font-size:1.25em;
        }
        .almanac.almanac-lg { width: 100%;}
        .almanac.almanac-lg .days span, .almanac.almanac-lg .weekdays span {
            width: 14.2857143%;
        }
        
        .almanac:before, .almanac:after { content: " "; display: table; }
        .almanac:after { clear: both; }
        .almanac .days span, .almanac .weekdays span {
            color: #333;
            display: inline-block;
            box-sizing: border-box;
            float:left;
            width: 2em;
            height: 2em;
            line-height: 2em;
            text-align: center;
            border-top: 0; border-right: 0;
        }
        .almanac .days span { cursor: pointer; }
        .almanac .days span.seven { background: #d3dd94;}
        .almanac .days span.other { color: #999; font-style: italic; }
        .almanac .weekdays span { font-weight: bold; background-color: #f0f0f0; cursor: default; }
        .almanac .selector {
            border-left: 1px solid #ccc;
            border-bottom: 1px solid #ccc;
            text-align: center;
            padding: 4px;
            background: #aaa;
        }
        .almanac .selector select { font-size: 2em; vertical-align: middle; margin-right: 4px; }
    </style>
</head>
<body>
    <div class="almanac" id="march">
        <div class="selector">
            <select><option>March</option></select>
            <select><option>2015</option></select>
        </div>
        <div class="weekdays">
            <span>Su</span><span>Mo</span><span>Tu</span><span>We</span><span>Th</span><span>Fr</span><span>Sa</span>
        </div>
        <div class="days">
            <span data-date="2015-03-01">1</span> <span data-date="2015-03-02">2</span> <span data-date="2015-03-03">3</span> <span data-date="2015-03-04">4</span> <span data-date="2015-03-05">5</span> <span data-date="2015-03-06">6</span> <span data-date="2015-03-07">7</span>
            <span data-date="2015-03-08">8</span> <span data-date="2015-03-09">9</span> <span data-date="2015-03-10">10</span> <span data-date="2015-03-11">11</span> <span data-date="2015-03-12">12</span> <span data-date="2015-03-13">13</span> <span data-date="2015-03-14">14</span>
            <span data-date="2015-03-15">15</span> <span data-date="2015-03-16">16</span> <span data-date="2015-03-17">17</span> <span data-date="2015-03-18">18</span> <span data-date="2015-03-19">19</span> <span data-date="2015-03-20">20</span> <span data-date="2015-03-21">21</span>
            <span data-date="2015-03-22">22</span> <span data-date="2015-03-23">23</span> <span data-date="2015-03-24">24</span> <span data-date="2015-03-25">25</span> <span data-date="2015-03-26">26</span> <span data-date="2015-03-27">27</span> <span data-date="2015-03-28">28</span>
            <span data-date="2015-03-29">29</span> <span data-date="2015-03-30">30</span> <span data-date="2015-03-31">31</span>
            <span class="other" data-date="2015-04-01">1</span> <span class="other" data-date="2015-04-02">2</span> <span class="other" data-date="2015-04-02">3</span> <span class="other" data-date="2015-04-02">4</span>
        </div>
    </div>
    
    <h2>Live</h2>
    <!-- button id="asdf">Go</button -->
    <div class="almanac" id="idx1"></div>
    <p><input type="text" value="" id="output1"></p>
    <hr style="clear:both">
    
    <div class="almanac almanac-lg" id="idx2"></div>
    <p><input type="text" value="" id="output2"></p>
    
    <script src="../src/almanac.js"></script>
    <script type="text/javascript" charset="utf-8">
        //window.onbeforeunload = function(evt) {
        //    var message = "Navigating away without saving will lose any unsaved changes.\n\nBe sure you saved your changes before leaving this page.";
        //    evt.returnValue = message;
        //    return message;
        //};
        var go = function() {
            var el = document.getElementById('idx1');
            var e2 = document.getElementById('idx2');
            Almanac.create(el, {
                day_post_create: function(el, cdt) {
                    if(cdt.day % 7 == 0) {
                        el.className = 'seven';
                    }
                    el.addEventListener('click', function() {
                        document.getElementById('output1').value = cdt.toISOString();
                    }, false);
                },
                year_range: '+10',
                tag: 'span'
            });

            Almanac.create(e2, {
                day_post_create: function(el, cdt) {
                    if(cdt.is_current && (cdt.day % 7 == 0 || cdt.day % 3 == 0)) {
                        el.className = 'seven';
                    }
                    el.addEventListener('click', function() {
                        document.getElementById('output2').value = cdt.toISOString();
                    }, false);
                },
                year_range: '-25',
                tag: 'span',
                date: new Date(2015,3,1)
            });
        };
        
        // document.getElementById('asdf').onclick = go;
        go();
        
        
    </script>
</body>
</html>